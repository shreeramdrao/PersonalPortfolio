document.addEventListener("DOMContentLoaded", function () {
 
 const textElement = document.querySelector(".typing-effect");
 const words = ["AI Engineer", "ML Engineer", "Generative AI Developer"];
 let wordIndex = 0;
 let letterIndex = 0;
 let isDeleting = false;
 let typingSpeed = 100;
 let deletingSpeed = 50;
 let delayAfterWord = 1000; 

 function type() {
 let currentWord = words[wordIndex];
 let currentText = isDeleting 
 ? currentWord.substring(0, letterIndex - 1) 
 : currentWord.substring(0, letterIndex + 1);

 textElement.innerHTML = currentText + `<span class="cursor">|</span>`; 

 if (!isDeleting && letterIndex === currentWord.length) {
 setTimeout(() => isDeleting = true, delayAfterWord);
 } else if (isDeleting && letterIndex === 0) {
 isDeleting = false;
 wordIndex = (wordIndex + 1) % words.length;
 }

 letterIndex += isDeleting ? -1 : 1;
 setTimeout(type, isDeleting ? deletingSpeed : typingSpeed);
 }
 type();
 
 
 const menuToggle = document.getElementById('menuToggle');
 const navMenu = document.getElementById('navMenu');
 
 if (menuToggle) {
 menuToggle.addEventListener('click', function() {
 navMenu.classList.toggle('active');
 });
 }
 
 
 const navLinks = document.querySelectorAll('#navMenu a');
 navLinks.forEach(link => {
 link.addEventListener('click', function() {
 navMenu.classList.remove('active');
 });
 });
 
 
 document.querySelectorAll('a[href^="#"]').forEach(anchor => {
 anchor.addEventListener('click', function(e) {
 if (this.getAttribute('href') !== '#') {
 e.preventDefault();
 const targetId = this.getAttribute('href');
 const targetElement = document.querySelector(targetId);
 if (targetElement) {
 window.scrollTo({
 top: targetElement.offsetTop - 70, 
 behavior: 'smooth'
 });
 }
 }
 });
 });
 
 
 const scrollTopBtn = document.createElement('button');
 scrollTopBtn.innerHTML = '<i class="fas fa-arrow-up"></i>';
 scrollTopBtn.className = 'scroll-top-btn';
 document.body.appendChild(scrollTopBtn);
 
 
 window.addEventListener('scroll', function() {
 if (window.pageYOffset > 300) {
 scrollTopBtn.classList.add('show');
 } else {
 scrollTopBtn.classList.remove('show');
 }
 });
 
 
 scrollTopBtn.addEventListener('click', function() {
 window.scrollTo({
 top: 0,
 behavior: 'smooth'
 });
 });
 
 
 const animateOnScroll = function() {
 const sections = document.querySelectorAll('section');
 const elements = document.querySelectorAll('.skill, .timeline-item, .certification-card');
 
 sections.forEach(section => {
 const sectionPosition = section.getBoundingClientRect().top;
 const windowHeight = window.innerHeight;
 
 if (sectionPosition < windowHeight - 50) {
 section.classList.add('visible');
 }
 });
 
 elements.forEach(element => {
 const elementPosition = element.getBoundingClientRect().top;
 const windowHeight = window.innerHeight;
 
 if (elementPosition < windowHeight - 50) {
 element.classList.add('animate');
 }
 });
 };
 
 
 window.addEventListener('scroll', animateOnScroll);
 
 animateOnScroll();
}); 

function openModal(certId) {
 document.getElementById(certId).style.display = "flex";
 document.body.style.overflow = "hidden"; 
}

function closeModal(certId) {
 document.getElementById(certId).style.display = "none";
 document.body.style.overflow = "auto"; 
}

window.onclick = function(event) {
 let modals = document.querySelectorAll(".modal");
 modals.forEach(modal => {
 if (event.target === modal) {
 modal.style.display = "none";
 document.body.style.overflow = "auto"; 
 }
 });
};

document.addEventListener("keydown", function(event) {
 if (event.key === "Escape") {
 let modals = document.querySelectorAll(".modal");
 modals.forEach(modal => {
 modal.style.display = "none";
 document.body.style.overflow = "auto"; 
 });
 }
});

document.addEventListener('DOMContentLoaded', function() {
 emailjs.init('y8WhK2Rd-3m-NQO8s'); 

 const contactForm = document.getElementById('contactForm');
 
 if (contactForm) {
 contactForm.addEventListener('submit', function(e) {
 e.preventDefault();
 
 
 const name = document.getElementById('name').value;
 const email = document.getElementById('email').value;
 const message = document.getElementById('message').value;
 
 
 if (name && email && message) {
 
 const submitBtn = contactForm.querySelector('button[type="submit"]');
 const originalBtnText = submitBtn.innerHTML;
 submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
 submitBtn.disabled = true;

 
 emailjs.send('service_jox3k0d', 'template_muis5vr', { 
 to_email: 'shreeramds3462@gmail.com',
 from_name: name,
 from_email: email,
 message: message
 }).then(function() {
 
 const successMessage = document.createElement('div');
 successMessage.className = 'form-success';
 successMessage.innerHTML = `<i class="fas fa-check-circle"></i> Thanks ${name}! Your message has been sent successfully.`;
 
 
 contactForm.innerHTML = '';
 contactForm.appendChild(successMessage);
 
 
 setTimeout(() => {
 contactForm.innerHTML = `
 <div class="form-group">
 <input type="text" id="name" placeholder="Your Name" required>
 </div>
 <div class="form-group">
 <input type="email" id="email" placeholder="Your Email" required>
 </div>
 <div class="form-group">
 <textarea id="message" placeholder="Your Message" required></textarea>
 </div>
 <button type="submit" class="submit-btn">Send Message</button>
 `;
 }, 5000);
 }).catch(function(error) {
 
 const errorMessage = document.createElement('div');
 errorMessage.className = 'form-error';
 errorMessage.innerHTML = `<i class="fas fa-exclamation-circle"></i> Sorry, there was an error sending your message. Please try again.`;
 contactForm.insertBefore(errorMessage, contactForm.firstChild);
 
 
 submitBtn.innerHTML = originalBtnText;
 submitBtn.disabled = false;
 });
 }
 });
 }
});